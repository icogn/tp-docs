<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-technical-explanations/rando-seed-file-thoughts">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Rando Seed File Thoughts | TP Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-file-thoughts"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rando Seed File Thoughts | TP Docs"><meta data-rh="true" name="description" content="This page describes solutions to the following problems:"><meta data-rh="true" property="og:description" content="This page describes solutions to the following problems:"><link data-rh="true" rel="icon" href="/tp-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-file-thoughts"><link data-rh="true" rel="alternate" href="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-file-thoughts" hreflang="en"><link data-rh="true" rel="alternate" href="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-file-thoughts" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/tp-docs/blog/rss.xml" title="TP Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tp-docs/blog/atom.xml" title="TP Docs Atom Feed"><link rel="stylesheet" href="/tp-docs/assets/css/styles.7afa8f30.css">
<link rel="preload" href="/tp-docs/assets/js/runtime~main.adbb371e.js" as="script">
<link rel="preload" href="/tp-docs/assets/js/main.789a4f82.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tp-docs/"><div class="navbar__logo"><img src="/tp-docs/img/logo.svg" alt="TP Docs Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/tp-docs/img/logo.svg" alt="TP Docs Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TP Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/icogn/tp-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/ostickstocalendartime">OSTicksToCalendarTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tp-docs/docs/technical-explanations/rando-seed-file-thoughts">Rando Seed File Thoughts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/rando-seed-versioning">Rando Seed Versioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/rando-seedInfo-arcp-proposal">Rando SeedInfo ARCP Structure Proposal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/rando-seedInfo-clr0">Rando SeedInfo CLR0 Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/sprlocksoftlock">Snowpeak Ruins Lock Softlock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/texture-recoloring">Texture Recoloring</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tp-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Rando Seed File Thoughts</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Rando Seed File Thoughts</h1><p>This page describes solutions to the following problems:</p><ul><li>Randomizer and SeedData version schemes</li><li>Ten seed limit and internal gci filename clashes</li><li>Better seed image data handling</li><li>Debug info in the seed data to help when people report bugs</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="before-continuing">Before continuing<a class="hash-link" href="#before-continuing" title="Direct link to heading">​</a></h3><p>Remember that a <code>GCI</code> is not a real concept from the GameCube&#x27;s perspective.</p><p>The first 0x40 bytes of a GCI file is a <code>DirectoryEntry</code> which lives on the special <code>Directory</code> block (and its backup block) on the memory card.
These special blocks are the reason memory card sizes are values like 59 (which is 64 minus the reserved 5 special blocks).</p><p>The remaining bytes (which will have a length that is a multiple of 0x2000) form a number of blocks which are stored on the memory card.
They are not necessarily contiguous on the memory card (though you don&#x27;t have to worry about this).</p><p>I will use the term <code>GCI</code> to refer to a file and its metadata on the memory card, but keep in mind that GCIs are an invented concept that has nothing to do with Nintendo.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="version-scheme">Version scheme<a class="hash-link" href="#version-scheme" title="Direct link to heading">​</a></h2><ul><li>The <code>Randomizer</code> refers to the file (and its metadata/DirectoryEntry) on the memory card which makes everything happen and which takes the seed data as input.</li><li>A <code>Seed</code> or <code>SeedData</code> GCI refers to the file (and its metadata/DirectoryEntry) on the memory card which is used as input to the Randomizer.
It specifies things like where items go and what color your tunic should be.</li></ul><p>Both of these things have a version number which consists of the following:</p><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>u16</td><td>versionMajor</td></tr><tr><td>u16</td><td>versionMinor</td></tr></tbody></table><ul><li>All <code>major version numbers</code> start at 1 and increment whenever there is a significant change.<ul><li>For the Randomizer, a major version change can happen whenever it feels appropriate.
Maybe this is when major refactoring occurs or major features are added.</li><li>For the SeedData, a major version change MUST happen whenever there is a change to the file&#x27;s internal structure such that the following are all true:<ul><li>The new SeedData file will not work in some ways with existing versions of the Randomizer.</li><li>The ways the SeedData no longer works are considered significant enough that:<ul><li>the SeedData would not work at all (simply incompatible).</li><li>or we do not want to allow people to even attempt to use those versions of the Randomizer and the SeedData together.</li></ul></li></ul></li></ul></li><li>All <code>minor version numbers</code> start at 0 and increment whenever there is a change that does not require a major version change.<ul><li>The minor version number will also reset back to 0 whenever the major version increments.</li><li>Increment the minor version when:<ul><li>For the Randomizer, this will probably be the case for most updates.
The Randomizer version is only important from the perspective of documentation and communicating expectations to the playerbase.</li><li>For the SeedData, this will occur whenever there is a non-breaking change such as &quot;now the seed supports Ball and Chain recoloring&quot;.
It is not worth forcing someone to update their Randomizer if the only part of the Seed it does not support is largely inconsequential (we can simply warn them that they may want to update their Randomizer version).</li></ul></li></ul></li></ul><p>The following is how a version number (in the format <code>major.minor</code>) might change over time:</p><p>1.0 =&gt; 1.1 =&gt; 1.2 =&gt; 2.0 =&gt; 3.0 =&gt; 3.1 =&gt; 3.2 =&gt; 4.0 =&gt; 4.1</p><hr><p>Internally the Randomizer knows which Seed versions it supports:</p><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>u16</td><td>minSeedVerMajor</td></tr><tr><td>u16</td><td>minSeedVerMinor</td></tr><tr><td>u16</td><td>fullSupportMaxSeedVerMajor</td></tr><tr><td>u16</td><td>fullSupportMaxSeedVerMajor</td></tr></tbody></table><ul><li>Any Seed with a version that:<ul><li>is below the <code>minSeedVer</code> will be 100% NOT supported.<ul><li>For example, minSeedVer is 10.5 and the Seed is version 10.2.</li></ul></li><li>is between the <code>minSeedVer</code> and <code>fullSupportMaxSeedVer</code> (inclusive) will be 100% supported.<ul><li>For example, minSeedVer is 14.3, fullSupportMaxSeedVer is 16.2, and the Seed is version 15.23.</li></ul></li><li>has a <code>versionMajor</code> which is greater than <code>fullSupportMaxSeedVerMajor</code> will be 100% NOT supported.<ul><li>For example, fullSupportMaxSeedVer is 16.2, and the Seed is version 17.0.</li></ul></li><li>has a <code>versionMajor</code> which is equal to <code>fullSupportMaxSeedVerMajor</code> and a <code>versionMinor</code> which is greater than <code>fullSupportMaxSeedVerMinor</code> will be PARTIALLY supported.<ul><li>For example, fullSupportMaxSeedVer is 12.4 and the Seed is version 12.5.</li></ul></li></ul></li></ul><p>For example, we might have the following files on the memory card:</p><ul><li>Randomizer v1.3, which supports Seed versions 12.3 to 15.2</li><li>Seed v11.7 (no support)</li><li>Seed v13.0 (full support)</li><li>Seed v15.0 (full support)</li><li>Seed v15.2 (full support)</li><li>Seed v15.3 (partial support)</li><li>Seed v16.3 (no support)</li></ul><p>When the Randomizer scans the memory card for seed files, it will warn the user if it finds any which are not fully supported.</p><p>For example, 0 or more of the following could show:</p><ul><li>&quot;Found X seed files with unsupported versions.
You must update the Randomizer version on your memory card to play these seeds.&quot;</li><li>&quot;Found Y seed files with versions which are no longer supported.&quot;</li><li>&quot;Found Z seed files which are partially supported.
You can still play these seeds, but some minor features such as certain recoloring may not work.
It is recommended that you update the Randomizer version on your memory card.&quot;</li></ul><p>When the user is paging through their available seeds, if a seed they are viewing has any of the above issues, we will display the message there as well:</p><ul><li>&quot;You must update the Randomizer version on your memory card to play this seed.&quot;</li><li>&quot;This seed version is no longer supported.&quot;</li><li>&quot;This seed is partially supported.
You can still play it, but some minor features such as certain recoloring may not work.&quot;</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>I am using recoloring as an example, but it could be any minor feature.
Also, those messages are just examples I came up with pretty quickly.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documenting-versions">Documenting versions<a class="hash-link" href="#documenting-versions" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="randomizer">Randomizer<a class="hash-link" href="#randomizer" title="Direct link to heading">​</a></h4><p>On GitHub (I assume), each Randomizer release should have the following information immediately visible:</p><ul><li>Randomizer version<ul><li>Nothing new here.</li></ul></li><li>Minimum and maximum supported Seed versions<ul><li>Only need to include these 2 values without any other explanation.
The Randomizer will display &quot;partial support&quot; messages if the user needs to see them.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="seed-data">Seed Data<a class="hash-link" href="#seed-data" title="Direct link to heading">​</a></h4><p>A changelog of the Seed Data can probably be hosted on the Randomizer generator website (for example, in a modal the user can open, or that opens automatically whenever there is an update. I&#x27;m sure you&#x27;ve seen things that do this).</p><p><strong>It is important to have a paper trail of when changes happened in both the Randomizer and the SeedData.</strong></p><p>Here is an example of the some entries in the SeedData changelog:</p><hr><p><strong>Randomizer SeedData Version History</strong></p><p><em>Note: You may need to update your Randomizer version to get all of the latest features.</em></p><p><strong>Version 17.2 (2022/07/11)</strong></p><ul><li>Added recoloring support for the Master Sword blade color.</li></ul><p><strong>Version 17.1 (2022/07/03)</strong></p><ul><li>Added ability to skip Bo wrestling.</li></ul><p><strong>Version 17.0 (2022/06/20)</strong></p><p><em>Update your Randomizer version to at least v1.4 to play Seeds with version 17.x.</em></p><ul><li>Made some important breaking change.</li></ul><p><strong>Version 16.1 (2022/05/07)</strong></p><ul><li>Fixed typo in the custom text for XYZ.</li></ul><p>...</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="naming-seed-files">Naming seed files<a class="hash-link" href="#naming-seed-files" title="Direct link to heading">​</a></h2><p>Next we will address the following problems:</p><ul><li>Seed filename clashes on the memory card.</li><li>Breaking through the 10 seed limit on the memory card.</li></ul><p>Before going into more details, I recommend playing around with the <code>Example Filename Generator</code> tool directly beneath this to get a feel for what the filenames would look like (I think it&#x27;s kind of fun).</p><p>You can edit any of the fields below to see the output change.
The textarea will change the <code>AdjectiveNoun_abc</code> part.</p><p></p><div class="root_PfOy"><h3>Example Filename Generator</h3><div class="description_NG81">Edit the fields below to see example filenames.</div><div class="gridGroup_gh3q"><label class="versionLabel_oIqo">versionMajor</label><input type="number" name="verMajor" value="17" min="0" max="65535" maxlength="5" autocomplete="off"></div><div class="gridGroup_gh3q"><label class="versionLabel_oIqo">versionMinor</label><input type="number" name="verMinor" value="3" min="0" max="65535" maxlength="5" autocomplete="off"></div><div class="gridGroup_gh3q"><label class="versionLabel_oIqo">gameVersion</label><select name="gameVer"><option value="GZ2E">GZ2E (GC US)</option><option value="GZ2P">GZ2P (GC PAL)</option><option value="GZ2J">GZ2J (GC JP)</option><option value="RZDE">RZDE (Wii US)</option><option value="RZDP">RZDP (Wii US)</option><option value="RZDJ">RZDJ (Wii JP)</option><option value="RZDK">RZDK (Wii Korea)</option></select></div><div class="gridGroup_gh3q"><textarea name="textAreaContent" class="textarea_f5q3" rows="4">Change me to see the adjectives and nouns change.</textarea></div><div class="gridGroup_gh3q"><div class="filenameLabel_AgRF">osFilename</div><div>TprSeed-v17.3ge--DreadfulCheese_4tp.gci</div></div><div class="gridGroup_gh3q"><div class="filenameLabel_AgRF">internalFilename</div><div>sd00h003DreadfulCheese_4tp</div></div></div><p></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-through-the-10-seed-limit">Breaking through the 10 seed limit<a class="hash-link" href="#breaking-through-the-10-seed-limit" title="Direct link to heading">​</a></h2><p>In the current Seed design, Seed GCIs can only have 10 different hardcoded names.
I am not going to spend the time typing up why that is undesirable.</p><p>There is one benefit of doing it this way though:<br>
to check for seeds on the memory card, we can simply check for every filename in a hardcoded list.</p><p>So is there a way to check for seed files on the memory card which does not require us to use hardcoded values?</p><p>Fortunately, yes.
Here is what we can do:</p><ul><li>Seed names now follow a pattern instead of being hardcoded values which can easily clash.</li><li>Iterate through the <code>DirectoryEntry</code>s (file metadata) on the memory card (thankfully, there is a fixed limit of 127 files on a memory card).<ul><li>For each <code>DirectoryEntry</code>, make sure its <code>gameCode</code> and <code>publisherCode</code> match the current game we are playing (for example, &quot;GZ2E01&quot;).
This confirms that the file on the memory card is a file for Twilight Princess.</li><li>For each <code>DirectoryEntry</code>, make sure its <code>filename</code> matches the pattern we use to indicate that this file on the memory card is <code>SeedData</code>.
This confirms that the file on the memory card is a Randomizer seed file.</li></ul></li></ul><p>And it&#x27;s that simple.</p><hr><p>We still have some other problems to solve though.</p><p>Using only the <code>DirectoryEntry</code>:</p><ul><li>how can the we know the Seed&#x27;s <code>versionNumber</code>?<ul><li>We need this to determine compatibility betweeen the Randomizer and the SeedData.</li></ul></li><li>how can we know the Seed&#x27;s human-readable name?<ul><li>We need this so the user can pick the correct seed while playing the Rando.</li></ul></li></ul><p>It is imperative that we can determine these things from the metadata (DirectoryEntry), or we would have to potentially read the file contents of 127 files which is unacceptable.</p><p>To store arbitrary data, the only space we have in the <code>DirectoryEntry</code> (without getting funky) is the <code>filename</code>, a string which can be up to 32 characters long.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="seed-filename-parts">Seed filename parts<a class="hash-link" href="#seed-filename-parts" title="Direct link to heading">​</a></h2><p>To reiterate, we have 32 characters to do the following:</p><ul><li>include a pattern which indicates this file is a <code>SeedData</code> file.</li><li>include the Seed&#x27;s major and minor version number</li><li>include the human-readable part of the Seed&#x27;s name<ul><li>this part is largely responsible for preventing filename clashes.
It will look something like &quot;PurpleMidna&quot;.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="version-numbers">Version numbers<a class="hash-link" href="#version-numbers" title="Direct link to heading">​</a></h3><p>A version number (major or minor) is a u16, which is 16 bits of data (min 0, max 65535).</p><p>So how many alphanumeric characters does it take to represent a u16?</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>We are sticking to alphanumeric characters since this is a filename.</p></div></div><p>We can trivially use 4 characters.
For example, 0xffff can be written as &quot;FFFF&quot;.</p><p>How about 2 characters?</p><p>Each character would need to represent 8 bits, meaning we would need 2^8 or 128 different possible characters for this.
We only have 62 characters to work with (10 numbers + 26 uppercase + 26 lowercase), so that is not going to happen.</p><p>So how about 3 characters?</p><p>If each character represented 6 bits, we would be able to represent 18 bits in 3 characters which is good.
To do this, we would need 6 bits per character, meaning we would need 2^6 or 64 different characters to do this.
This is slightly outside of our 62 limit, but it is still a possibility.</p><p>Five bits per character would only require 32 different characters, but it would only allow us to represent 15 bits in 3 characters and we need to represent 16 bits.</p><p>So maybe we can use a number of characters somewhere between 32 and 62?</p><p>It turns out that 41 different characters is the smallest amount we can use to represent 16 bits in 3 characters.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Needs to be at least 65535</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">39^3 =&gt; 59319</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">40^3 =&gt; 64000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">41^3 =&gt; 68921 (this one)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">42^3 =&gt; 74088</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is a pretty good number -- only 5 more than 26 + 10, meaning we only need to include an uppercase and lowercase version of the same letter for 5 letters.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-convert-between-chars-and-u16">How to convert between chars and u16<a class="hash-link" href="#how-to-convert-between-chars-and-u16" title="Direct link to heading">​</a></h4><p>Imagine we had the string &quot;abc&quot;.</p><p>Each character will map to a number between 0 and 40.</p><p>Let&#x27;s say that &quot;a&quot; is 10, &quot;b&quot; is 11, and &quot;c&quot; is 12.</p><p>To get the u16, we would do:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">(10 * 41^2) + (11 * 41^1) + (12 * 41^0)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">which gives 17273 or 0x4379</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here is some js code for going the other way (u16 to char<!-- -->[3]<!-- -->):</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> chars </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0123456789abcDefghiJkLmNopQrstuVwxyzABEHR&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sixteenBitTo3Char</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> iterations </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> charCount </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">41</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> arr </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> currNum </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> iterations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> charIndex </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> currNum </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain"> charCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    arr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">chars</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">charIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    currNum </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">currNum </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> charIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> charCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">reverse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can scroll back up to the <code>Example Filename Generator</code> and change the major and minor versions to see it in action.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Another benefit of using 41 characters instead of 64 is that the 3 characters in the string will vary more.
If you had 64 characters, one of them would only ever be a small portion of its 64 possibilities.
This is much less pronounced with 41 characters.
Using the above letters, the first character will never be &quot;H&quot; or &quot;R&quot;, but it still has 39 possibilities.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="human-readable-part">Human-readable part<a class="hash-link" href="#human-readable-part" title="Direct link to heading">​</a></h3><p>We want to have some part of the filename that looks like &quot;AdjectiveNoun&quot; for a couple of reasons:</p><ul><li>it allows people to more easily reference a seed when communicating.<ul><li>Don&#x27;t want to have to say &quot;Yes, it&#x27;s seed dshf829hfo9aiwnf2&quot; (hit random keys)</li></ul></li><li>having a bunch of different options here is how we prevent filename clashes</li></ul><p>First, let&#x27;s think about what it means for two seeds to be different.
Alternatively we can say, when should the generated filename be exactly the same?</p><p>For example, if you were to generate a seed with the same u64 randomization starting point and the same settings string on the same exact Generator code, you should get the exact same seed generated (meaning the filename is the same as well).</p><p>However, if multiple people want to play the same seed (as confirmed by the filename), they should&#x27;t have to use the same cosmetic options (since the playthrough will be exactly the same for each from a gameplay perspective).</p><p>Or maybe the same person generates a seed which is the same from one they have already played except for the tunic color.
It would pointless for them to essentially play the exact same playthrough without realizing it.</p><p>Let us directly address an important conclusion from the above examples:</p><blockquote><p><strong>The filename is representative of the playthrough experience.</strong></p></blockquote><p>If you show someone two files which have the exact same name, they will say they represent the same playthrough.</p><p>If you show someone two files which have different names, they will expect them to be completely different things.</p><hr><p>Let&#x27;s think about some things which define the playthrough experience:</p><ul><li>item locations</li><li>starting items</li><li>starting location</li></ul><p>Or more broadly, thinking about a playthrough as a graph traversal:</p><ul><li>your starting state</li><li>your ability to traverse the graph<ul><li>for example, skip MDH on or off provides two different playthrough graphs.<br>
Being able to transform anywhere is also a different graph compared to one in which you can&#x27;t.</li></ul></li><li>where state changes occur<ul><li>where items are located, or any state changes resulting from traversing an edge.</li></ul></li><li>settings which allow you to traverse the same edge on a graph more quickly (for example, quick climbing)</li></ul><p>On the opposite side, what about things where if two people were racing, changing any of these would not give anyone an advantage over anyone else:</p><ul><li>anything which does not affect any of the things listed above<ul><li>recoloring</li><li>anything else?</li></ul></li></ul><p>The above is not meant to be an exact definition, but rather provide some guidelines.
The main point is that not all settings should be taken into account when generating the Seed filename.</p><p>To summarize, the following are inputs to the filename:</p><ul><li>u64 randomization starting point</li><li>settings which impact your starting state (items, location, etc.)</li><li>settings which impact the playthrough graph and fairness with regards to its traversal</li></ul><hr><p>If we want to be thorough, we should actually take the generated item placements into account (not just the input settings).</p><p>The same randomization starting point and settings can still generate a different playthrough graph if any sort of small change ever happened with the item placement algorithm.</p><p>So we can take the item placements, and convert them all to a string and add it as an input.
That way, any change in item placement would generate a different filename.
Put differently, we can be confident that the same filenames will have the same item placement without worrying about which version of the Generator was used.</p><hr><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generating-the-human-readable-part">Generating the human-readable part<a class="hash-link" href="#generating-the-human-readable-part" title="Direct link to heading">​</a></h4><p>Essentially, we have this:</p><ul><li>a bunch of inputs which can be converted to strings</li></ul><p>And we need a function with the following properties:</p><ul><li>takes all of the inputs and generates a representation that is a relatively small number of bits</li><li>the same input must give the same output</li><li>a small adjustment to the input should generate a different output (ideally much different)</li></ul><p>That sounds like a hash function.</p><p>So what we can do is take all of our inputs as strings, concatenate them, run a hash function on that string, and get a 32 bit result.</p><p>With 32 bits, the chance that we generate two Seeds with different inputs which end up with clashing filenames is approximately 1/(2^32) or 1 in 4,294,967,296 or 0.00000023283% which is negligible.</p><hr><h4 class="anchor anchorWithStickyNavbar_LWe7" id="making-32-bits-human-readable">Making 32 bits human-readable<a class="hash-link" href="#making-32-bits-human-readable" title="Direct link to heading">​</a></h4><p>Remember that we have 32 characters in the <code>DirectoryEntry</code> filename to work with, and 6 of them are already being used on the <code>versionMajor</code> and <code>versionMinor</code>.
Let&#x27;s say that we need 2 characters to establish the filename pattern.</p><p>This leaves us with 24 characters to represent 32 bits.</p><p>Let&#x27;s first define our lower bound:</p><ul><li>we can represent 32 bits in 6 characters.</li></ul><p>If we want to represent 32 bits using adjectives and nouns alone, we could split them evenly.
We would need 2^16 (65535) adjectives and 65535 nouns, which is obviously not going to work.</p><p>I will go ahead and say, the most nouns we will get (which is a power of 2) using proper nouns closely related to Twilight Princess is 128 (or 7 bits worth of data).</p><p>So this means we need 2^25 or 33,554,432 adjectives.
I don&#x27;t think English has that many.</p><p>But what if we instead use the same 3 character pattern we used with the version numbers to cover for 16 of the bits.</p><p>In that case, with 7 bits of data covered by the noun, we only need 9 bits of data using adjectives.
This means we only need 512 adjectives, which is doable (I already did it. Did the nouns too. See the <code>Example Filename Generator</code> back near the top).</p><hr><p>We have 24 characters in the filename to work with.
If we use 4 on the 3-char u16 and a delimiter, we have 20 characters for an adjective and noun.</p><p>It turns out that splitting this evenly (10 characters for each) gives us plenty of flexibility for picking adjectives and nouns.</p><p>To summarize, our human-readable part of the filename will look like:</p><ul><li>Adjective (1 to 10 chars, 512 possibilities)</li><li>Noun (1 to 10 chars, 128 possibilities)</li><li>Delimiter (1 char)</li><li>3-char u16 representation (3 chars, 65536 possibilities)</li></ul><p>And you would read it aloud like &quot;Happy Zelda abc&quot;.</p><hr><p>I will go over briefly how I picked out the adjectives and nouns.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="picking-out-adjectives">Picking out adjectives<a class="hash-link" href="#picking-out-adjectives" title="Direct link to heading">​</a></h4><p>I looked up a list of 1000 adjectives, then did the following to reduce it to 512.</p><ul><li>Removed any that had dashes</li><li>Removed any that were more than 3 syllables long (according to me)</li><li>Removed any which were too similar to others (for example, &quot;magic&quot; and &quot;magical&quot;)</li><li>Removed any that could be interpreted as having to do with topics which might be problematic such as religion, race, politics, sexuality, etc.</li><li>Finally, to get down to 512, manually removed any that I thought didn&#x27;t roll off the tongue or didn&#x27;t like</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="picking-out-nouns">Picking out nouns<a class="hash-link" href="#picking-out-nouns" title="Direct link to heading">​</a></h4><p>The nouns come from the following categories:</p><ul><li>NPC names</li><li>Enemy types (including Bosses and Midbosses)</li><li>Golden Bug types (such as Phasmid)</li><li>Fish species (such as Greengill)</li><li>Items, especially if specific to TP (Spinner, etc.)</li><li>A few manual picks</li></ul><p>with the following rules:</p><ul><li>10 characters max</li><li>Titles are left off (&quot;MayorBo&quot; =&gt; &quot;Bo&quot;, &quot;DrBorville&quot; =&gt; &quot;Borville&quot;, etc.)</li><li>3 syllables max (same as adjectives)</li><li>None which are too similar<ul><li>Bulblin/Bullbo/Bubble, Purlo/Purdy, Argorok/Kargorok, Yeto/Yeta, Fyer/Fyrus, etc.</li></ul></li><li>None which are too difficult to read, including all which start with &quot;I&quot;<ul><li>For example, &quot;MeaningfulIlia&quot;</li></ul></li></ul><hr><p>Since the nouns and adjectives are all 3 syllables at most, reading the string out loud is usually pretty nice.</p><ul><li>On the shorter side, we have &quot;ColdBo_J3u&quot;.</li><li>On the longer side, we have &quot;AnnualHylian_hE2&quot;.</li></ul><p>The chance of a collision using just the adjective and noun is still only 0.0015%, so most of the time you can probably ignore the 3-char part at the end.
We still want to keep it though, since it makes collisions almost impossible.</p><hr><p>We haven&#x27;t addressed it yet, but the filename pattern which indicates SeedData is &quot;sd&quot;, which is short for &quot;seed&quot;.
This is fine because the only normal Twilight Princess file starts with &quot;gc&quot;, and the Randomizer GCI is named &quot;Custom REL File&quot;.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>You could use 3 characters instead of 2 by removing the delimiter from the filename in the GCI.
This would just make displaying the name to the user a little more involved.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>If you had an experimental branch of the Rando which was using a completely different seed format, you could generate seeds which use a different pattern such as &quot;se&quot; for &quot;seed experimental&quot;.
Or if we ever had files which stored fully custom textures, they could have a different file pattern as well.</p></div></div><hr><p>Here is the Example filename generator once again so you don&#x27;t have to scroll back up.</p><p></p><div class="root_PfOy"><h3>Example Filename Generator</h3><div class="description_NG81">Edit the fields below to see example filenames.</div><div class="gridGroup_gh3q"><label class="versionLabel_oIqo">versionMajor</label><input type="number" name="verMajor" value="17" min="0" max="65535" maxlength="5" autocomplete="off"></div><div class="gridGroup_gh3q"><label class="versionLabel_oIqo">versionMinor</label><input type="number" name="verMinor" value="3" min="0" max="65535" maxlength="5" autocomplete="off"></div><div class="gridGroup_gh3q"><label class="versionLabel_oIqo">gameVersion</label><select name="gameVer"><option value="GZ2E">GZ2E (GC US)</option><option value="GZ2P">GZ2P (GC PAL)</option><option value="GZ2J">GZ2J (GC JP)</option><option value="RZDE">RZDE (Wii US)</option><option value="RZDP">RZDP (Wii US)</option><option value="RZDJ">RZDJ (Wii JP)</option><option value="RZDK">RZDK (Wii Korea)</option></select></div><div class="gridGroup_gh3q"><textarea name="textAreaContent" class="textarea_f5q3" rows="4">Change me to see the adjectives and nouns change.</textarea></div><div class="gridGroup_gh3q"><div class="filenameLabel_AgRF">osFilename</div><div>TprSeed-v17.3ge--DreadfulCheese_4tp.gci</div></div><div class="gridGroup_gh3q"><div class="filenameLabel_AgRF">internalFilename</div><div>sd00h003DreadfulCheese_4tp</div></div></div><p></p><p>Note that the &quot;ge&quot; part after the version number in the <code>osFilename</code> is so someone can immediately tell which game a Seed file is targeting without viewing it in a hex editor.</p><p>The letters are the lowercase version of the first and last letters of the <code>gameCode</code> (such as &quot;RZDE&quot;).
The first letter is the <code>SystemCode</code> (which console) and the last letter is the <code>RegionCode</code>.</p><ul><li>The TprSeed and version number are put at the front so the files.<ul><li>You can immediately tell it is a Seed file.</li><li>They group together in a directory on your computer which is sorted alphabetically and which may contain other files.</li><li>If we add any other new Rando file types which also start with <code>Tpr</code>, it kind of functions like a namespace (like <code>tpr::seed::etc...</code>).</li></ul></li><li>We use an underscore between the AdjectiveNoun and the 3-char part because double-clicking will select that whole part.</li><li>We use dashes between the other sections since we are using an underscore for the above purpose.
It also just makes it pretty easy to read imo.</li><li>We use two dashes before the AdjectiveNoun part because the adjective is the part that we want the player&#x27;s eye to go to first.
It does not stick out as much with only one dash:<ul><li><code>TprSeed-v17.3ge--DreadfulCheese_4tp.gci</code></li><li><code>TprSeed-v17.3ge-DreadfulCheese_4tp.gci</code></li><li>Everything kind of blends together with only one dash imo.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="image-and-debug-info">Image and debug info<a class="hash-link" href="#image-and-debug-info" title="Direct link to heading">​</a></h2><p>This article is already long enough, so I will be brief here.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="image-data">Image data<a class="hash-link" href="#image-data" title="Direct link to heading">​</a></h3><p>The user should be able to choose to leave the image data out of their Seed data.
For people playing on actual hardware, every block can count, and people should be able to opt out of spending an additional (1 <!-- -->*<!-- --> numSeedFilesOnMemCard) blocks on a bunch of copies of the same images.
You could potentially have 3 options for this: always include the images, never include, or only include if it would not increase the block size.</p><p>Structure:</p><ul><li>the comments should be put at offset 0x0 since they are mandatory and they must not be split across block boundaries.</li><li>The actual seed data will start at offset 0x40.
This is a hardcoded value.</li><li>You can tell the length of the seed data by checking the image offset information in the <code>DirectoryEntry</code>.<ul><li>If there are no images, the seed data length which should be copied from the memory card is from offset 0x40 until the end of the last block.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debug-info">Debug info<a class="hash-link" href="#debug-info" title="Direct link to heading">​</a></h3><p>At the very end of the file after the image data, I would recommend putting the following information such that you can easily read it in a hex editor:</p><ul><li>timestamp for when the seed was created<ul><li>easy to read version using ascii characters like &quot;2022/07/21...&quot;</li></ul></li><li>u64 randomization starting point<ul><li>This is debug info which does not need to be in the seed header as far as I can tell.</li></ul></li><li>settings string (you will need to specify its length as well)</li><li>Generator version?</li><li>whatever else you want</li></ul><p>This part will be read into RAM if there is no image data, but it is not a big deal as long as the size is small.
Perhaps you let people opt out of this too.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/icogn/tp-docs/edit/main/website/docs/technical-explanations/rando-seed-file-thoughts.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tp-docs/docs/technical-explanations/ostickstocalendartime"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OSTicksToCalendarTime</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tp-docs/docs/technical-explanations/rando-seed-versioning"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rando Seed Versioning</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-continuing" class="table-of-contents__link toc-highlight">Before continuing</a></li><li><a href="#version-scheme" class="table-of-contents__link toc-highlight">Version scheme</a><ul><li><a href="#documenting-versions" class="table-of-contents__link toc-highlight">Documenting versions</a></li></ul></li><li><a href="#naming-seed-files" class="table-of-contents__link toc-highlight">Naming seed files</a></li><li><a href="#breaking-through-the-10-seed-limit" class="table-of-contents__link toc-highlight">Breaking through the 10 seed limit</a></li><li><a href="#seed-filename-parts" class="table-of-contents__link toc-highlight">Seed filename parts</a><ul><li><a href="#version-numbers" class="table-of-contents__link toc-highlight">Version numbers</a></li><li><a href="#human-readable-part" class="table-of-contents__link toc-highlight">Human-readable part</a></li></ul></li><li><a href="#image-and-debug-info" class="table-of-contents__link toc-highlight">Image and debug info</a><ul><li><a href="#image-data" class="table-of-contents__link toc-highlight">Image data</a></li><li><a href="#debug-info" class="table-of-contents__link toc-highlight">Debug info</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 icogn</div></div></div></footer></div>
<script src="/tp-docs/assets/js/runtime~main.adbb371e.js"></script>
<script src="/tp-docs/assets/js/main.789a4f82.js"></script>
</body>
</html>