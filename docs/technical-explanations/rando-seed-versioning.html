<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-technical-explanations/rando-seed-versioning">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Rando Seed Versioning | TP Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-versioning"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rando Seed Versioning | TP Docs"><meta data-rh="true" name="description" content="This page describes concerns with the way version compatibility between the Randomizer and the SeedData is currently handled."><meta data-rh="true" property="og:description" content="This page describes concerns with the way version compatibility between the Randomizer and the SeedData is currently handled."><link data-rh="true" rel="icon" href="/tp-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-versioning"><link data-rh="true" rel="alternate" href="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-versioning" hreflang="en"><link data-rh="true" rel="alternate" href="https://icogn.github.io/tp-docs/docs/technical-explanations/rando-seed-versioning" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/tp-docs/blog/rss.xml" title="TP Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tp-docs/blog/atom.xml" title="TP Docs Atom Feed"><link rel="stylesheet" href="/tp-docs/assets/css/styles.7afa8f30.css">
<link rel="preload" href="/tp-docs/assets/js/runtime~main.adbb371e.js" as="script">
<link rel="preload" href="/tp-docs/assets/js/main.789a4f82.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tp-docs/"><div class="navbar__logo"><img src="/tp-docs/img/logo.svg" alt="TP Docs Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/tp-docs/img/logo.svg" alt="TP Docs Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TP Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/icogn/tp-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/ostickstocalendartime">OSTicksToCalendarTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/rando-seed-file-thoughts">Rando Seed File Thoughts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tp-docs/docs/technical-explanations/rando-seed-versioning">Rando Seed Versioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/rando-seedInfo-arcp-proposal">Rando SeedInfo ARCP Structure Proposal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/rando-seedInfo-clr0">Rando SeedInfo CLR0 Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/sprlocksoftlock">Snowpeak Ruins Lock Softlock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tp-docs/docs/technical-explanations/texture-recoloring">Texture Recoloring</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tp-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Rando Seed Versioning</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Rando Seed Versioning</h1><p>This page describes concerns with the way version compatibility between the Randomizer and the SeedData is currently handled.
It also proposes an alternative to address these concerns.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="current-implementation">Current implementation<a class="hash-link" href="#current-implementation" title="Direct link to heading">​</a></h2><p>Currently, the Randomizer code reads the following values from a header in the SeedData:</p><ul><li><code>minVersion</code> - the oldest version of the Randomizer GCI that this SeedData will work with.</li><li><code>maxVersion</code> - the newest version of the Randomizer GCI that this SeedData will work with.</li></ul><p>For example, let&#x27;s say you were playing version 7.8 of the Randomizer, which is the most up-to-date version of the Randomizer.
If a SeedData on the memory card had a <code>minVersion</code> of 5.0 and a <code>maxVersion</code> of 9.192, the Randomizer would conclude the following:</p><ul><li>&quot;I am within the range that this SeedData allows, so I will say that I am able to play this seed&quot;.</li></ul><p>So you can immediately ask:</p><ul><li>How can the SeedData say that the <code>maxVersion</code> is 9.192 when the latest Randomizer version is only 7.8?
How did it decide the <code>maxVersion</code>?</li></ul><p>That is a good question.</p><p>9.192 is obviously a random value that makes absolutely no sense, but we&#x27;ll just accept it for now.</p><p>Let&#x27;s say we need to make some changes to the format of the SeedData.
Maybe there is a new important feature, or we found a way to decrease the block count of the SeedData by restructuring.</p><p>The new SeedData is obviously not going to work with Randomizer v7.8, so we need to set a <code>minVersion</code> that is at least 7.9.
We still have no idea what the hell is going on with <code>maxVersion</code>, so we&#x27;ll just let that one stay the same at 9.192.</p><p>Now we are obviously going to need to create a new version of the Randomizer GCI which knows how to read this new SeedData.</p><p>The old Randomizer was v7.8, so let&#x27;s say this new Randomizer version is 7.9.</p><p>But wait, we can&#x27;t do that!</p><p>If we set it to 7.9, then the old SeedData (5.0 to 9.192) will tell the Randomizer:</p><ul><li>&quot;Hey, you know how to understand me. Trust me. I was finalized before you were even a concept in someone&#x27;s head, so I am totally aware of your capabilities.&quot;</li></ul><p>This is because Version 7.9 is still in the old SeedData&#x27;s range of 5.0 to 9.192.</p><p>If the new Randomizer does not support the old format, then we are going to have to set its version to at least 9.193.</p><p>That is dumb as hell, so let&#x27;s just set it to 10.0 and move on.</p><p>But wait!</p><p>We need to change the new SeedData to have a <code>maxVersion</code> that is at least 10.0.
In fact, none of the Randomizers which have existed before this point will be able to understand this SeedData, so we actually need to set the <code>minVersion</code> to 10.0 to match the new Randomizer version.</p><p>So now we have a <code>minVersion</code> of 10.0 and a <code>maxVersion</code> of at least 10.0.</p><p>Let&#x27;s pick a <code>maxVersion</code>.
We&#x27;re not going to pick something like 11.192 because we determined last time that that was a terrible idea.</p><p>It looks like we are back at the same question:</p><ul><li>How do we decide a SeedData&#x27;s <code>maxVersion</code>?</li></ul><p>Last time we just accepted 9.192 without questioning it, but I have figured it out now:</p><p>The answer is that we can predict the future.
It is obvious that the <code>maxVersion</code> should be 10.7.</p><p>But seriously, how?</p><p>And another issue is this:</p><ul><li>We are saying &quot;old SeedData version&quot; and &quot;new SeedData version&quot; in the above text, but wouldn&#x27;t it be nice if we actually had a name for each of them.</li><li>It&#x27;s almost like the SeedData should have its own version so we can accurately reference them and keep track of changes to the format over time.</li></ul><hr><p>But let&#x27;s pretend we still have hope for the current system.
9.192 is a strawman!</p><p>How about we use the current values in the SeedData at the time of writing:</p><ul><li><code>minVersion</code> is 1.0</li><li><code>maxVersion</code> is 1.0</li></ul><p>So that&#x27;s pretty cool, because if we ever have to make a change to the Randomizer then we have no hope of supporting these seeds.<br>
<em>(We are not going to entertain the idea of making changes to the Randomizer without incrementing its version.)</em></p><p>When asked about compatibility after the first update to the Randomizer:</p><blockquote><p>&quot;The latest Randomizer (v1.1) adds support for gradients for Link&#x27;s tunic color!
I know that it&#x27;s not a major change, but all of those seeds that you generated and put on your memory card are not going to work if you update your Randomizer version, so I guess figure it out.
...
What&#x27;s that?
Oh yeah, this shit is gonna happen every time.
You&#x27;ll get used to it.&quot;</p></blockquote><p>Following the same pattern because we still have no idea what to do about <code>maxVersion</code>, the new SeedData which works with Randomizer v1.1 will have <code>minVersion</code> 1.1 and <code>maxVersion</code> 1.1.</p><p>Using the same value for both <code>minVersion</code> and <code>maxVersion</code> is obviously pretty crappy.</p><p>That person&#x27;s SeedData files on their memory card were created before tunic gradients were a thing, so maybe the new Randomizer should still work with them and simply not put gradient colors on the tunic?</p><p>Maybe we can adjust it a little.
What if for the new SeedData we instead used:</p><ul><li><code>minVersion</code> of 1.0</li><li><code>maxVersion</code> of 1.1</li></ul><p>After defining the new SeedData format, we can look back through the Randomizer releases until we find the first one which will not work with the new format, and then we can set the <code>minVersion</code> based on that.</p><p>That&#x27;s actually a pretty okay way of handling <code>minVersion</code>, but <code>minVersion</code> hasn&#x27;t been the one we&#x27;ve had a problem with this entire time.</p><hr><p>Here is probably the least bad way of handling it with the current setup:</p><p>Let&#x27;s look at the following scenario:</p><ul><li>The only Randomizer versions in existence are 1.0 and 1.1.</li><li>We are creating a new SeedData format which works with both of these Randomizers.</li></ul><p>We can do the following:</p><ul><li>Set <code>minVersion</code> to 1.0.</li><li>Set <code>maxVersion</code> to 1.999999999 (or the highest minorVersion possible).</li></ul><p>So now whenever we need to make a &quot;breaking change&quot; to the SeedData format, we can set the new one to have <code>minVersion</code> 2.0 and <code>maxVersion</code> 2.999999999.</p><p>Then we can change the Randomizer from v1.12 or something to v2.0.</p><p>This will absolutely work, but here are some problems with this appraoch:</p><ul><li>We probably don&#x27;t want to have to increment the major version of the Randomizer that often.
Or alternatively, we don&#x27;t want resistance to having to increment the major version of the Randomizer make it so that we are slow to introduce new features into SeedData formats.<ul><li>After all, &quot;RANDOMIZER 2.0 GUYS!!!!&quot; is probably something that we want to celebrate.
Said differently, we don&#x27;t want to drain that of its meaning optically by forcing frequent major version updates.</li></ul></li><li>We do not have a way to easily refer to different versions of the SeedData format over time and keep track of changes.<ul><li>We can describe a SeedData format as <code>minVer1.0-maxVer1.x</code>, but then if the next format has those same min and max versions, we are going to have trouble documenting and troubleshooting.</li></ul></li><li>This way of who controls whether or not the Randomizer is allowed to support a SeedData file is backwards.<ul><li>The Randomizer itself should be the one who decides if it can support a file -- not the file which was created before that Randomizer version even existed.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="suggested-implementation">Suggested implementation<a class="hash-link" href="#suggested-implementation" title="Direct link to heading">​</a></h2><p>In the SeedData, instead of:</p><ul><li><code>minVersion</code> - randoVerMajor.randoVerMinor</li><li><code>maxVersion</code> - randoVerMajor.randoVerMinor</li></ul><p>The suggestion is to have:</p><ul><li><code>version</code> - seedDataVerMajor.seedDataVerMinor</li></ul><p>And then internally, the Randomizer has the following:</p><ul><li><code>minSeedDataVersion</code> - seedDataVerMajor.seedDataVerMinor (ex: 17.0)</li><li><code>maxFullySupportedSeedDataVersion</code> - seedDataVerMajor.seedDataVerMinor (ex: 17.5)</li><li>Implied:<ul><li><code>maxSeedDataVersion</code> - implied by minSeedDataVersion; (min 17.3 would mean all versions of 17 which are at least 17.3)</li></ul></li></ul><p>From a data perspective, instead of doing <code>minVersion</code> u8.u8 and <code>maxVersion</code> u8.u8, we do <code>minSeedDataVersion</code> u16.u16, and <code>maxFullySupportedSeedDataVersion</code> u16.u16.</p><p>Note that you could theoretically have something like a <code>minSeedDataVersion</code> of 12.0 and a <code>maxFullySupportedSeedDataVersion</code> of 13.2.
We will need to do a SeedData version bump every time sSettings change (more on this later), but that does not necessarily mean that we need to stop supporting older SeedData versions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">​</a></h3><p>Let&#x27;s assume we have the following history of Randomizer versions:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Randomizer Releases</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 6.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 6.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 6.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 6.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 6.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 6.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 5.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 5.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 5.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 5.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.7</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 4.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 4.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 4.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 4.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 3.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 3.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 2.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 2.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 2.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 2.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 2.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 2.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 1.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Randomizer v1.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum SeedData version is 1.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum fully supported SeedData version is 1.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Did that</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; Assets (5)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Randomizers could theoretically have a <code>minSeedVersion</code> like 3.4, but this would only happen in the following scenario:</p><ul><li>SeedData format bumps from 3.3 to 3.4.</li><li>Randomizer says &quot;you know what, I&#x27;m not going to support 3.0-3.3 even though it would be pretty easy&quot;.</li></ul><p>We could potentially get away with just saying the Randomizer has a <code>minSeedVersionMajor</code>, but it is probably better to be safe than sorry.</p><p>So using the above table, let&#x27;s say we have the following scenario:</p><hr><p>As a player, let&#x27;s say that I am playing on Randomizer v1.11, and the website is currently generating SeedData with version 6.2.</p><p>When the game shows me a SeedData of version 6.2 as an option to play, it can say something along the lines of:</p><ul><li>&quot;Hey, this Seed you want to play is version 6.2, so some of the new features may not work.
You will want to update your Randomizer version for these features to work.&quot;</li></ul><p>This is because the maxFullySupportedVersion for Randomizer v1.11 is 6.1.</p><p>This way, people are nudged/reminded to update to newer versions of the Randomizer, but we do not make things harder on them.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-process">Update process<a class="hash-link" href="#update-process" title="Direct link to heading">​</a></h3><p>Firstly, these things are true when updating the Randomizer version:</p><ul><li>Any code change requires a new version number.</li><li>Major version only needs to change at major milestones, so most updates will be minor version bumps.</li><li>The Randomizer version and the SeedData version are independent, meaning the numbers do not line up and they are not meant to (see the table in the above Example section).
In fact, we could start making every Randomizer version a string like &quot;Apple&quot; and &quot;Banana&quot;, and this wouldn&#x27;t affect the SeedData because the Randomizer reads the SeedData and not the other way around.</li></ul><p>If the Randomizer change was a simple bug fix, we do not need to do anything about the SeedData.
That new release of the randomizer will have the same <code>minSeedDataVersion</code> and <code>maxFullySupportedSeedDataVersion</code>.</p><p>If it was a Randomizer change that required a SeedData change:</p><ul><li>Determine if the SeedData change should be a major or minor version bump.<ul><li>To determine if it is a minor bump, we can look back at the oldest Randomizer version which would attempt to load the new SeedData.</li><li>If there are no problems, we can do a minor bump.</li><li>If there would be problems, we need to do a major version bump.</li></ul></li></ul><p>Another scenario to consider is the following:</p><ul><li>Let&#x27;s pretend the the CLR0 recoloring stuff has already been merged.
This section of the SeedData maps enums to 24-bit colors.</li><li>If we add support to recolor the master sword blade, this would be a new enum in the CLR0 section.</li><li>Based on how this section is written, this would never cause problems with older versions of the Randomizer.
They simply would not color the blade.</li><li>However, we still need to do a minor version bump of the SeedData.<ul><li>The reason is that a minor version bump will alert the user that &quot;Hey, this SeedData that you want to load may have some unsupported features in it&quot;.
In this case, the blade would not be recolored even if the SeedData said that it should be, so we want to alert the user of this.
That is all we need to do.</li></ul></li></ul><p>Thinking about it, it is probably safe to do a minor bump only in the following scenario:</p><ul><li>The change is related to pSettings (not sSettings).</li><li>Doing a minor bump would not break the oldest Randomizer which is looking at that major version.</li></ul><p>The reason we need to do a major version bump for sSettings is that the sSettings are a critical part of the definition of the playthrough experience, so any that are meant to be supported in the SeedData must be supported for it to be considered playable.
This would be very important in the case of races.
I assume for official races, everyone would be forced to use a specific Randomizer version, but that doesn&#x27;t necessarily have to be the case for more casual stuff.</p><p><em>Note that we would also keep track of SeedData format changes in the same way that I showed above for the Randomizer version, through probably with more detail.</em></p><hr><p>We will probably also want to scan all of the SeedData on the memory card (whether we are still using seedIndexes or not), and let the user know about any which are totally incompatible and why, so that they are not completely lost and have to make a post about it.</p><p>This might only be feasible in the &quot;seedIndexes are no more&quot; situation though, since that one wouldn&#x27;t have to read the memory card several times.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/icogn/tp-docs/edit/main/website/docs/technical-explanations/rando-seed-versioning.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tp-docs/docs/technical-explanations/rando-seed-file-thoughts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Rando Seed File Thoughts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tp-docs/docs/technical-explanations/rando-seedInfo-arcp-proposal"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rando SeedInfo ARCP Structure Proposal</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#current-implementation" class="table-of-contents__link toc-highlight">Current implementation</a></li><li><a href="#suggested-implementation" class="table-of-contents__link toc-highlight">Suggested implementation</a><ul><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#update-process" class="table-of-contents__link toc-highlight">Update process</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 icogn</div></div></div></footer></div>
<script src="/tp-docs/assets/js/runtime~main.adbb371e.js"></script>
<script src="/tp-docs/assets/js/main.789a4f82.js"></script>
</body>
</html>