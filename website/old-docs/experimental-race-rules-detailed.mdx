# Experimental Rando Race Rules Detailed

import Link from '@docusaurus/Link';

These are the latest experimental rules for the races hosted by isaac (usually on Sunday).
They are currently used with a fork of the generator website while Hints are being developed and refined.

- Generator site: http://trackerp.net
- Settings string: `f3s22Y2luv_yPJK6HA6BfTBfTBfTA4UV_7gk7w1F8S8ke6sAlrxVKmJt1We1DVPCwDiBlPpk2EY3KM9TjmwEugOf4IZGEIzZ3AnDi7V2eMlHJJJCacBeTX0BVoZG1AZrGxKjSJQi2XDHJsp43so2ktK5h33HvBqKt3Gofgl_`

## Rules and Settings (verbose)

- Hyrule Castle will open after you beat 3 dungeons to get 3 Fused Shadows.
  Beat the last boss to finish the race.
  - Read the sign outside Link's house to see which 3 dungeons you must do.
  - Due to how things are set up, you will never need to do Palace of Twilight.
- Logic is glitchless, but most glitches which do not give a huge advantage are allowed (details given below).
- Everything is in the Item Pool.
  - But about half of the Poes are excluded (details given below).
- Small Keys are set to Keysy.
  The small key doors are all unlocked from the start.
- Big Keys are set to Keysanity.
  You can find them anywhere, and you must find them to complete the dungeons.
- All Timesavers and "Additional Settings" are checked other than `Increase Spinner Speed`, `Hyrule Castle Keysy`, and `Magic Armor costs 100 rupees`.
- Trap (Foolish) Items are turned OFF.
- Dungeons:
  - Forest Temple
    - Faron Woods Logic is Open, so you can access Hyrule Field from Faron Woods without completing Forest Temple.
  - Goron Mines
    - Set to Open.
      You do not need to wrestle in front of the entrance, and the elevator to the top of Death Mountain is open from the start.
      The post-dungeon checks are the 2 hawkeye checks and the Death Mountain poe.
  - Lakebed Temple
    - You will need Water Bombs to open the entrance normally, but going out of bounds to access the dungeon is ALLOWED.
      You start with Zora Armor to lessen the requirements to enter the dungeon.
  - Arbiter's Grounds
    - The Bulblin Camp is cleared for you from the start.
  - Snowpeak Ruins
    - You must get the Reekfish scent to go through Snowpeak.
      You start with one Fishing Rod to make this easier.
      Skipping the Reekfish scent is banned!
    - Post-dungeon check is the Snowboarding minigame.
  - Temple of Time
    - Entrance set to Open.
      Nothing is required to enter the dungeon.
    - Door of Time is open from the start.
      The statue has already been brought down from the top for you.
    - No post-dungeon checks.
  - City in the Sky
    - You must find a single Sky Character, then the cannon will appear in Lake Hylia automatically.
  - Palace of Twilight
    - This dungeon is NEVER required.
      You can forget it exists for races with these settings.
  - Hyrule Castle
    - All checks are excluded, and you can rush straight to the boss once you find the Boss Key outside of the dungeon.
    - To beat the dungeon, you will need the Master Sword (find 3 of 4 swords), Double Clawshots, Boomerang, and Spinner.
      You will also need Lantern to go to the right or Bow/Bombs to go to the left.
- Starting Inventory
  - Start with Shadow Crystal, Horse Call, and Gate Keys.
    These are pretty standard for all race settings.
  - Start with one Fishing Rod, Zora Armor, and all but one Sky Character.
    These are all meant to reduce the requirements to enter dungeons but still prevent the dungeons from being accessible right from the start.
- Hints
  - Hints are available on the seed page from which you download the seed GCI.
    Scroll down some and click the Hint tab.
  - Hint distribution: 2 Spirit of Light, 2 Barren, 4 Always, AgithaRewards, and Sometimes hints.
    - The Spirit of Light hints indicate areas you must visit to logically complete the seed.
    - The Barren hints indicate areas you will not have to visit to logically complete the seed.
    - The Always and Sometimes hints will tell you the exact Rewards given by the selected Checks.
      - Always hints: `Goron Springwater Rush, Iza Helping Hand, Lanayru Ice Block Puzzle Cave Chest, Snowpeak Icy Summit Poe`
    - The AgithaRewards hint tells you all meaningful items which Agitha can give out.
      Note that there are only 16 bugs in the item pool (you can only find up to 16 bugs).
    - For more information on Hints, please visit the <Link to="/docs/rando/hints">Hints</Link> Page.
- Excluded Checks
  - Cave of Ordeals, Hidden Village, the Trade Quest, Golden Wolves, Jovani 60 Poe Soul Reward, and Iza "shoot the pots" minigame are excluded.
  - Hyrule Castle is completely excluded!
    If you are missing items, it is not time to go to Hyrule Castle yet.
  - Agitha has 8 of her rewards excluded.
    The 16 bugs which would lead to these excluded checks are not in the Item Pool, so any bug you find can potentially be useful.
    Read the AgithaRewards hint to know which items she can give out.
  - Poes
    - Excluded
      - 28 of the 60 poes are excluded.
      - 3 of these are in Cave of Ordeals, and 1 is in Hidden Village (both excluded areas).
      - 24 are excluded because they are "Sphere 0" checks, meaning they are accessible right from the start of the game.
    - Included
      - It may be easier to remember the included poes.
      - 11 are dungeon poes (4 in Arbiter's Grounds, 3 in Snowpeak Ruins, 2 in Temple of Time, and 2 in City in the Sky).
      - The other 21 overworld poes are divided as follows:
        - 8 in the desert areas (2 above grottos, 2 in a grotto, 1 near portal, 1 outside Bulblin Camp, 1 in Bulblin Camp, and 1 outside Arbiter's).
        - 5 in Snowpeak (4 and the snowboarding 1 is an Always hint).
        - 3 in Lake Hylia Cave (hype cave).
        - 2 in Greater Sacred Grove Area (1 under boulder and 1 behind owl statue).
        - 1 in Kakariko Gorge Cave.
        - 1 on the ledge south of the Great Bridge of Hylia.
        - 1 in Death Mountain (only when Goron Mines is required, and only after completing the dungeon like the Hawkeye checks).
      - Included Poes Summary
        - 11 dungeon
        - 21 overworld
          - 8 desert area, 5 snowpeak, 3 hype cave, 2 sacred grove, 1 kak gorge cave, 1 great bridge of hylia, 1 death mountain (Goron Mines seeds only)
  - Desert chests
    - All small chests are excluded in the desert areas (Gerudo Desert, Bulblin Camp, Outside Arbiter's Grounds).
      These are the ones you can open as Wolf without transforming back to Human.
    - Full list: `Bulblin Camp First Chest Under Tower At Entrance, Bulblin Camp Small Chest in Back of Camp, Gerudo Desert Campfire East Chest, Gerudo Desert Campfire North Chest, Gerudo Desert Campfire West Chest, Gerudo Desert East Canyon Chest, Gerudo Desert Lone Small Chest, Gerudo Desert North Small Chest Before Bulblin Camp, Gerudo Desert Northeast Chest Behind Gates, Gerudo Desert Northwest Chest Behind Gates, Gerudo Desert Peahat Ledge Chest, Gerudo Desert West Canyon Chest`
- Banned Glitches/Tricks
  - Back in Time
  - Big Key Skips
  - Iza Item Manipulation
  - Early Monkey Chain Room (entering room before Forest Temple boss without boomerang)
  - Hyrule Castle Required Item Skips (double clawshots, boomerang, spinner)
  - Skipping Reekfish Scent
- Rulings
  - You are allowed to use Magic Armor with 0 rupees where you might use Iron Boots.
  - In Hyrule Castle, any method of hitting the switch in the room before the double Darknuts is allowed.

## General rules

- Loading quest logs which were created before the race starts is banned (other than the REL Loader quest log).
- Playing the game ahead of the race to change values in RAM to give you an advantage is banned.
  - For example, setting up Early Boss Flags before the race starts.
- Using any emulator features which give a meaningful advantage over someone playing on console is banned.
  - These include, but are not limited to, save states, custom macros, pausing execution, and advancing frames.
- Dolphin settings should match the specifications in this pin: https://discord.com/channels/596503283124666368/737120005723914360/1043278585240223804
- If playing on console, it is recommended to follow the setup as specified in this post: https://discord.com/channels/596503283124666368/737120005723914360/1043270665769340968

## Banned glitches/tricks (detailed)

### Back in Time

- What is it:
  - You gain control of Link on the title screen, and there is a lot of stuff that can happen from there.
- Why is it banned:
  - It causes problems with the Randomizer in general and is considered unsupported.
  - Goes against the spirit of the Randomizer by giving a guaranteed item.
- What can I do if I accidentally do this:
  - If you accidentally gain control of Link on the title screen, reset the game and load back into a normal save file.
    If you do not have a normal save file, you can either start over from a new save file (the race timer does not reset) or you can forfeit.
  - If you create a BiT quest log, you must not load that BiT quest log until the data for that slot is either deleted or overwritten with non-BiT data.
  - If you do an absolutely horrible job of recovering from accidentally doing BiT such that it gives you an advantage or it is apparent you are breaking the rules intentionally, you may be forced to forfeit.

### Big/Boss Key Skips

- What is it:
  - Entering a boss fight without the going through the appropriate big key door.
    The only one that exists in TP is for Morpheel.
- Why is it banned:
  - Can give a significant time advantage.
  - Reduces the item requirements to beat the seed.
- What can I do if I accidentally do this:
  - Reset the game and enter the boss fight correctly when possible.
  - If the cutscene that plays after defeating the boss starts playing, you may be forced to forfeit.

### Iza Item Manipulation

- What is it:
  - You can get a guaranteed bomb bag and do other kinds of inventory manipulation by interacting with Iza in certain ways.
    Any sort of unintended item manipulation using Iza is banned.
    This includes, but is not limited to, stealing bomb bag and infinite bomb arrows.
- Why is it banned:
  - Goes against the spirit of the Randomizer by giving a guaranteed item.
- What can I do if I accidentally do this:
  - Reset the game such that you do not have the stolen bomb bag or infinite bomb arrows before gaining advantage from them.
    Ideally this should be done immediately.
  - If you do a check or move to a location which lets you visually confirm the contents of a new check by using the stolen item, you may be forced to forfeit.

### Early Monkey Chain Room

- What is it:
  - In Forest Temple, you can make it to the room before the boss in which the monkeys form the chain without boomerang.
- Why is it banned:
  - This is mainly banned with bingo in mind since there can be goals for beating a dungeon or beating Diababa.
    It is easier to remember the rules when they are consistent between the races.
  - If this was not banned, then it is kind of at the level such that you would be putting yourself at a meaningful disadvantage by not practicing it.
    And it would definitely require practice for more than just a few minutes.
  - Even outside of bingo, you can potentially get Forest Temple out of the way much faster than other players who may need to (re)visit it later once they find boomerang.
- What can I do if I accidentally do this:
  - Either walk back into the previous room before doing anything or save and quit back to the start of the dungeon.
  - Using Ooccoo to exit the dungeon from the monkey chain room is not allowed if you accessed it illegally.
    If you do this, you must immediately enter the dungeon from the front to get Ooccoo again.
  - If you defeat the boss or do the check in the room above the vines, you may be forced to forfeit.

### Hyrule Castle Double Clawshots Skips

- What is it:
  - There are two locations where you can skip the need for the Double Clawshots in Hyrule Castle.
    - In the big room where the lights turn on, you can stand on a ledge and do a precise clawshot target to continue to the next room with a single clawshot.
    - After using the 2nd small key, there is a part with broken stairs which is meant to require Double Clawshots.
      You can skip the Double Clawshots requirement by timing or mashing A such that you press A on a single frame which causes you to land on ground instead of falling into the void.
- Why is it banned:
  - Reduces the item requirements to beat the seed.
- What can I do if I accidentally do this:
  - You must immediately move back to a location you had access to before performing the trick.
    Saving and quitting is okay.
  - If you do checks, continue through the dungeon, or other things to gain advantage after performing the trick, you may be forced to forfeit.

### Hyrule Castle Spinner Skips

- What is it:
  - There are some LJAs you can do on the Spinner portion of your climb to the final boss fight which skips needing to have the Spinner.
- Why is it banned:
  - Reduces the item requirements to beat the seed.
- What can I do if I accidentally do this:
  - You must immediately move back to a location you had access to before performing the trick.
    Saving and quitting is okay.
  - If you do checks, continue through the dungeon, or other things to gain advantage after performing the trick, you may be forced to forfeit.

### Hyrule Castle Boomerang Skip

- What is it:
  - This is a difficult trick involving a Rat enemy which you perform in the room with the first Darknut.
    It skips needing to put out the torch with the Boomerang.
- Why is it banned:
  - Reduces the item requirements to beat the seed.
- What can I do if I accidentally do this:
  - You must immediately move back to a location you had access to before performing the trick.
    Saving and quitting is okay.
  - If you do checks, continue through the dungeon, or other things to gain advantage after performing the trick, you may be forced to forfeit.

### Hyrule Castle Double Darknut Skip

- What is it:
  - In the big room where the lights turn on, you can skip to the balcony connected to the double Darknut room by using a series of precise Double Clawshots targets.
- Why is it banned:
  - Reduces the item requirements to beat the seed.
- What can I do if I accidentally do this:
  - You must immediately move back to a location you had access to before performing the trick.
    Saving and quitting is okay.
  - If you do checks or other things to gain advantage after performing the trick, you may be forced to forfeit.

### Skipping Reekfish Scent

- What is it:
  - You can skip the Reekfish scent in Snowpeak by using Map Glitch.
  - Using Map Glitch to pass through some or all of the section which requires Reekfish scent is banned regardless of whether or not you have the Reekfish scent.
  - Any other glitch/trick which is not Map Glitch but which gives the same kind of advantage in this scenario is also banned, even if it is not listed by name.
- Why is it banned:
  - Reduces the item requirements to beat the seed.
- What can I do if I accidentally do this:
  - You must warp away to reset your position and Map Glitch.
  - If you do checks or other things to gain advantage after performing the trick, you may be forced to forfeit.

## Reasoning

The general goals of the rules are the following:

- Pretty much anyone should be able to join and complete the seed.
- More experienced players should be able to complete most seeds in under 3.5 hours.
- "Bad seeds" should not be unreasonably time-consuming.
  If people frequently are saying "pain..." after the seed finishes, that is a problem.
- Some number of tricks/glitches should be allowed so that people have things to learn and so that more experienced players do not become frustrated with the rules.
- It should be fun!

Some other goals once the above are taken care of:

- Seeds should feel different from each other as much as possible.
- There should not be one obvious route to take.
  Players should have multiple viable options available to them as much as possible.

The races can get boring if you do the exact same thing (or 90% the same thing) every week.
This can happen if there is very little decision-making needed or if the seeds all feel the same.
It is more fun to play and discuss the races when item locations are a little unexpected (but not so unexpected as to be painful).

### Agitha

Agitha has been excluded from the races until these rules since she increased the duration and randomness (in a bad way) of the races.

To improve her checks enough to include her again, the following changes have been made:

- You are told exactly which items she can give out using Hints.
- Only 16 of the bugs are included instead of 24.
- The 8 bugs which lead to excluded rewards are left out of the Item Pool.
  This means any bug you find is potentially useful.

Agitha is good because:

- she increases decision-making
- she increases variance in seeds (some have a lot of Agitha, some have no Agitha, some have optional Agitha, etc.)
- finding bugs can actually be exciting instead of boring
- she has a cool house with cool music and a cool design

### Poes

Poes have been excluded from races since they add a bunch of checks and can increase the duration of the race.
With recent changes, the duration of races have decreased enough to where there is room for Poes.

After playing through some seeds with most of the poes included and looking through spoiler logs of a bunch of seeds, there was a problem:

- including almost every Poe increases the number of Sphere 0 checks by 24 which is a huge amount.

Increasing the number of Sphere 0 checks by this much meant that there was a really good chance of getting lucky and finding multiple good items early.

The new Spirit of Light hints also give you some places you can go to get guaranteed required items.
And since there were so many Sphere 0 checks, the chance that you could go to an area and get the "Spirit of Light check" right at the start was really high.

With both of those things combined, what this meant was that you would frequently get a ton of items in the first 20 or 30 minutes, and then the rest of the seed would not be very exciting.

But there were some good things about the Poes:

- increase the number of checks in dungeons
- Snowpeak which usually only has 2 checks gets an additional 5 checks which makes it a much better place to visit.
  This is especially noticeable on seeds which do not require Snowpeak Ruins.
- Other areas which gain a small number of checks thanks to Poes can fight for attention a little better.
- You may need to be a little more conscious of ammo usage since poe souls remove a lot of ammo from the item pool.
- If Jovani has something good, you do not have to spend several minutes hunting poes.
  You will find the poe souls naturally.

Including the Poes later in the spheres also decreases the chance you find everything early which is nice.

#### Regarding excluded poes

The Snowboarding Poe outside Snowpeak Ruins was previously excluded, but it has been moved to an Always hint instead.

The Poe in Death Mountain could go either way, but I am including it for now.
It is a post-Goron Mines check, so it is only relevant when Goron Mines is a required dungeon.
That one crappy Death Mountain check might become less crappy when you can route such that you actually get 2 checks in one pass.

### Desert

The desert is probably the hardest to balance area in the game.
There are just an absurd number of checks there, and most of them require absolutely nothing to get once you have desert access.

Here are the check counts for different exclusions:

- everything is 30 checks, 20 immediately available.
- non-poes is 22 checks, 16 immediately available.
- non-small chests is 18 checks, 10 immediately available.

Having 30 checks is kind of just too much (the most in the game for "one area").

We can see that the non-small chests approach is lower in total checks and immediately available checks.
It cuts the number of immediately available checks in half compared to including everything.

This means if you find Auru's memo early, whether or not you should immediately rush the desert becomes more of a question with the non-small chest approach.
It might be better to wait until you find clawshot, or maybe you think you should rush the desert anyway.
That seems more interesting to me.

Additionally, excluding the small chests removes some of the more time-consuming/boring checks such as the slow peahat one near the portal, the lower desert camp chests, and the one near where you land from the cannon where you have to wrap around.
Since you are pretty much going to be doing the desert most seeds (regardless of when exactly you decide to go there), it is nice to filter out some of the more annoying checks so that it doesn't take as long.

#### New Desert vs Hype Cave

Hype cave with poes and the non-small chest desert both have exactly 18 checks.

Hype cave has 16 immediately available checks, and desert only has 10.
So the desert is probably no longer the most broken area.

### Excluding Hyrule Castle

The short version is that rushing Hyrule Castle is such an obvious choice that it is better to take the amount of time that would be used doing that and allocate it to other more interesting things.

There are a few downsides of not excluding Hyrule Castle:

- If you only have 2 swords by the time you make it to Hyrule Castle, there is a very good chance that your third sword is in there.
  Since the optimal strategy of rushing Hyrule Castle is so obvious, everyone would do it.
  This meant that you either everyone found the sword and finished the seed, or everyone wasted a bunch of time and had to go back into the overworld after several minutes.
- The treasure room frequently has a bunch of useful items in it which either increased the number of items which you could ignore, or if one of those items was actually required, that kind of sucked since you would have to savewarp out and make the Hyrule Castle climb again.
  - For example, if the 2nd dominion rod or Auru's Memo or Ball and Chain were in the treasure room (which was not uncommon), you would have the decision of when to visit checks related to those items made for you.

Benefits of excluding Hyrule Castle checks:

- You don't have to go through the formality of rushing Hyrule Castle once you finish the other 3 dungeons.
  Instead, you can immediately start thinking about where you want to go.
- You are more likely to find items in general.
  - You are less likely to go forever with no sword or only 2 swords.
  - You are more likely to find both Dominion Rods.
- Once you entered Hyrule Castle, you would go through the same formality almost every time.
  Hyrule Castle is still a formality, but now it is a straight rush through the dungeon and bosses.

### Boss Keysanity

With the recent addition of Hints, things are much faster even with the above changes.

There was still room to add some more spice to the runs, but I wanted to avoid these things:

- adding back small keys
  - the dungeons flow much better when you don't have to worry about keys.
  - there are effectively more checks in dungeons when checks which would give keys instead have a chance of giving useful items.
- boss keys in dungeons
  - when you are already go-mode, it can be annoying to potentially have to do most or all of a dungeon before you find the boss key.
  - you can decide how much of a dungeon you want to risk skipping when you can go straight to the boss.

Boss keysanity is the newest idea to be added to the rules, but I like it for these reasons:

- Increase the number of things you have to find without putting up too many walls for the player.
  Boss keys largely don't affect where the player can go.
- Player has to keep track of the keys they have found which is slightly more challenging.
- The number of items you find which are not just rupees or bomb refills is increased, so you will find something slightly more interesting more often (even if it isn't useful like a key for an unrequired dungeon).
- Hopefully lead to more interesting seeds with stuff like "wow I can't believe the boss key was there" or something.

Goron Mines has 3 keys, but you only need Iron Boots and Bow to do 99% of that dungeon, so adding more requirements to finish it might not be bad.
Iron Boots is a required item for Lakebed Temple and City in the Sky as well, so there is a good chance you can find Iron Boots fairly early depending on which dungeons are required.
Bows are usually easy to find as well since there are 3 of them.
